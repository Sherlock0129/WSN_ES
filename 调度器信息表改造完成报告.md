# è°ƒåº¦å™¨ä¿¡æ¯è¡¨æ”¹é€ å®ŒæˆæŠ¥å‘Š

## âœ… æ”¹é€ ç›®æ ‡

**æ ¸å¿ƒç›®æ ‡**: è°ƒåº¦å™¨ä¸å†ç›´æ¥è®¿é—®`SensorNode.current_energy`ç­‰å±æ€§ï¼ˆä¸Šå¸è§†è§’ï¼‰ï¼Œè€Œæ˜¯ä»ç‰©ç†ä¸­å¿ƒèŠ‚ç‚¹çš„ä¿¡æ¯è¡¨ï¼ˆ`NodeInfoManager`ï¼‰è·å–èƒ½é‡ä¿¡æ¯ã€‚

**å…³é”®è¦æ±‚**:
1. è°ƒåº¦å™¨ä½¿ç”¨`InfoNode`è¿›è¡Œå†…éƒ¨è®¡ç®—
2. åŸæœ‰å…¬å¼é€»è¾‘å®Œå…¨ä¿æŒä¸å˜
3. æœ€ç»ˆè¿”å›`SensorNode`å¯¹è±¡ï¼ˆä¿æŒå…¼å®¹æ€§ï¼‰
4. ç‰©ç†ä¸­å¿ƒèŠ‚ç‚¹è¢«æ­£ç¡®æ’é™¤

---

## ğŸ“‹ æ”¹é€ å†…å®¹

### **1. æ–°å¢æ–‡ä»¶** (1ä¸ª)

#### `src/scheduling/info_node.py` ï¼ˆNEWï¼‰
- **InfoNodeç±»**: è½»é‡çº§èŠ‚ç‚¹ä»£ç†ï¼ŒåŸºäºä¿¡æ¯è¡¨çš„æ•°æ®
- **æ ¸å¿ƒæ–¹æ³•**:
  - `distance_to(other)`: è®¡ç®—èŠ‚ç‚¹é—´è·ç¦»
  - `energy_transfer_efficiency(target)`: èƒ½é‡ä¼ è¾“æ•ˆç‡ï¼ˆä¸SensorNodeå…¬å¼å®Œå…¨ä¸€è‡´ï¼‰
  - `energy_harvest(t)`: ç®€åŒ–çš„èƒ½é‡é‡‡é›†ï¼ˆç”¨äºPredictionSchedulerï¼‰
- **æ ¸å¿ƒå±æ€§**:
  - `node_id`, `current_energy`, `position`, `is_physical_center`
  - WETå‚æ•°: `energy_char`, `energy_elec`, `epsilon_amp`, `bit_rate`, `path_loss_exponent`, `sensor_energy`

---

### **2. ä¿®æ”¹çš„æ–‡ä»¶** (5ä¸ª)

#### `src/scheduling/schedulers.py`
**æ ¸å¿ƒå˜åŒ–**:
- **BaseScheduler**:
  - `__init__`: æ¥æ”¶`node_info_manager`å‚æ•°
  - `cache_energy_params(network)`: æ–°æ–¹æ³•ï¼Œç¼“å­˜æ‰€æœ‰èŠ‚ç‚¹çš„WETå‚æ•°
  - `_filter_regular_nodes()`: æ”¯æŒè¿‡æ»¤InfoNodeæˆ–SensorNode

- **æ‰€æœ‰è°ƒåº¦å™¨** (BaselineHeuristic, LyapunovScheduler, ClusterScheduler, PredictionScheduler, PowerControlScheduler):
  - `plan()` æ–¹æ³•:
    1. è°ƒç”¨`self.nim.create_info_nodes(self.energy_params)`è·å–InfoNodeåˆ—è¡¨
    2. ä½¿ç”¨InfoNodeè¿›è¡Œæ‰€æœ‰å†…éƒ¨è®¡ç®—ï¼ˆèƒ½é‡æ¯”è¾ƒã€è·¯å¾„è§„åˆ’ã€è¯„åˆ†ç­‰ï¼‰
    3. è°ƒç”¨EEORè·¯å¾„è§„åˆ’æ—¶ä¼ å…¥InfoNode
    4. è¿”å›å‰ï¼Œå°†InfoNode IDæ˜ å°„å›åŸå§‹SensorNodeå¯¹è±¡

**ç¤ºä¾‹ä»£ç **:
```python
def plan(self, network, t):
    # 1. ä»ä¿¡æ¯è¡¨åˆ›å»ºInfoNode
    info_nodes = self.nim.create_info_nodes(self.energy_params)
    
    # 2. æ„å»ºIDåˆ°çœŸå®èŠ‚ç‚¹çš„æ˜ å°„ï¼ˆç”¨äºæœ€åè½¬æ¢ï¼‰
    id2node = {n.node_id: n for n in network.nodes}
    
    # 3. æ’é™¤ç‰©ç†ä¸­å¿ƒèŠ‚ç‚¹
    nodes = self._filter_regular_nodes(info_nodes)
    
    # 4. ä½¿ç”¨InfoNodeè¿›è¡Œè®¡ç®—ï¼ˆåŸæœ‰é€»è¾‘ä¸å˜ï¼‰
    avgE = float(np.mean([n.current_energy for n in nodes]))
    lows = sorted([n for n in nodes if n.current_energy < avgE], ...)
    
    # 5. è·¯å¾„è§„åˆ’ï¼ˆä½¿ç”¨InfoNodeï¼‰
    path = eeor_find_path_adaptive(nodes, d, r, max_hops=self.max_hops)
    
    # 6. è½¬æ¢å›çœŸå®èŠ‚ç‚¹å¯¹è±¡ï¼ˆä¿æŒå…¼å®¹æ€§ï¼‰
    receiver = id2node[r.node_id]
    donor = id2node[d.node_id]
    real_path = [id2node[n.node_id] for n in path]
    
    plans.append({"receiver": receiver, "donor": donor, "path": real_path, "distance": dist})
    return plans
```

#### `src/acdr/physical_center.py`
**æ–°å¢æ–¹æ³•**:
- `create_info_nodes(energy_params)`: 
  - ä»`latest_info`ä¿¡æ¯è¡¨åˆ›å»ºInfoNodeåˆ—è¡¨
  - ä½¿ç”¨ç¼“å­˜çš„WETå‚æ•°åˆå§‹åŒ–InfoNode
  - è‡ªåŠ¨è¯†åˆ«ç‰©ç†ä¸­å¿ƒèŠ‚ç‚¹ï¼ˆID=0ï¼‰

#### `src/sim/refactored_main.py`
**æ ¸å¿ƒå˜åŒ–**:
- `create_scheduler(config_manager, network)`: 
  - æ–°å¢`network`å‚æ•°
  - è‡ªåŠ¨è·å–`node_info_manager`ï¼ˆä»ADCRæˆ–PathCollectoræˆ–ç‹¬ç«‹åˆ›å»ºï¼‰
  - å°†`node_info_manager`æ·»åŠ åˆ°è°ƒåº¦å™¨å‚æ•°
  - è°ƒç”¨`scheduler.cache_energy_params(network)`ç¼“å­˜WETå‚æ•°

#### `src/sim/parallel_executor.py`
**æ ¸å¿ƒå˜åŒ–**:
- `_create_scheduler(config_manager, network)`: 
  - æ–°å¢`network`å‚æ•°
  - è‡ªåŠ¨è·å–`node_info_manager`ï¼ˆä»ADCRæˆ–ç‹¬ç«‹åˆ›å»ºï¼‰
  - ä¸ºæ‰€æœ‰è°ƒåº¦å™¨æ·»åŠ `node_info_manager`å‚æ•°
  - è°ƒç”¨`scheduler.cache_energy_params(network)`ç¼“å­˜WETå‚æ•°

#### `src/routing/EEOR.py`
**æ— éœ€ä¿®æ”¹**:
- EEORå†…éƒ¨é€»è¾‘å®Œå…¨ä¸å˜
- ç°åœ¨æ¥æ”¶InfoNodeå¯¹è±¡è€Œä¸æ˜¯SensorNodeå¯¹è±¡
- InfoNodeæä¾›äº†ä¸SensorNodeç›¸åŒçš„æ¥å£ï¼ˆ`distance_to`, `energy_transfer_efficiency`ï¼‰
- ç‰©ç†ä¸­å¿ƒèŠ‚ç‚¹åœ¨é‚»å±…åˆ—è¡¨æ„å»ºé˜¶æ®µå°±å·²è¢«æ’é™¤ï¼ˆé€šè¿‡`is_physical_center`æ ‡å¿—ï¼‰

---

## ğŸ”„ æ•°æ®æµç¨‹

### **åˆå§‹åŒ–é˜¶æ®µ**ï¼ˆè°ƒåº¦å™¨åˆ›å»ºæ—¶æ‰§è¡Œä¸€æ¬¡ï¼‰
```
1. create_scheduler(config_manager, network)
   â”œâ”€ è·å– node_info_managerï¼ˆä»ADCR/PathCollector/ç‹¬ç«‹åˆ›å»ºï¼‰
   â”œâ”€ åˆ›å»ºè°ƒåº¦å™¨ï¼ˆä¼ å…¥node_info_managerï¼‰
   â””â”€ ç¼“å­˜èƒ½é‡å‚æ•°ï¼ˆä»SensorNodeæå–ä¸€æ¬¡ï¼‰
```

### **è¿è¡Œé˜¶æ®µ**ï¼ˆæ¯æ¬¡planè°ƒç”¨ï¼‰
```
2. scheduler.plan(network, t)
   â”œâ”€ nim.create_info_nodes(energy_params)  # ä»ä¿¡æ¯è¡¨åˆ›å»ºInfoNode
   â”œâ”€ ä½¿ç”¨InfoNodeè¿›è¡Œè®¡ç®—ï¼ˆå†…éƒ¨é€»è¾‘ä¸å˜ï¼‰
   â”‚  â”œâ”€ èƒ½é‡æ¯”è¾ƒ: if n.current_energy < avgE
   â”‚  â”œâ”€ è·ç¦»è®¡ç®—: n.distance_to(other)
   â”‚  â”œâ”€ æ•ˆç‡è®¡ç®—: n.energy_transfer_efficiency(target)
   â”‚  â””â”€ è·¯å¾„è§„åˆ’: eeor_find_path_adaptive(info_nodes, ...)
   â””â”€ è¿”å›SensorNodeå¯¹è±¡ï¼ˆid2nodeæ˜ å°„ï¼‰
```

---

## âœ… æµ‹è¯•éªŒè¯

### **æµ‹è¯•1: NodeInfoManagerçš„åˆ›å»ºå’Œä¿¡æ¯æ›´æ–°**
- [PASS] NodeInfoManageræ­£ç¡®åˆå§‹åŒ–
- [PASS] ä¿¡æ¯è¡¨åŒ…å«æ‰€æœ‰èŠ‚ç‚¹ï¼ˆå«ç‰©ç†ä¸­å¿ƒï¼‰
- [PASS] ä¿¡æ¯è¡¨æ­£ç¡®è®°å½•èƒ½é‡å’Œä½ç½®

### **æµ‹è¯•2: è°ƒåº¦å™¨ç¼“å­˜èƒ½é‡å‚æ•°**
- [PASS] è°ƒåº¦å™¨æ­£ç¡®æ¥æ”¶node_info_manager
- [PASS] cache_energy_params()æ­£ç¡®æå–WETå‚æ•°
- [PASS] æ‰€æœ‰èŠ‚ç‚¹å‚æ•°ï¼ˆ6ä¸ªèŠ‚ç‚¹ï¼‰æ­£ç¡®ç¼“å­˜

### **æµ‹è¯•3: ä»ä¿¡æ¯è¡¨åˆ›å»ºInfoNode**
- [PASS] create_info_nodes()æ­£ç¡®åˆ›å»ºInfoNodeåˆ—è¡¨
- [PASS] InfoNodeåŒ…å«å®Œæ•´çš„èƒ½é‡ä¼ è¾“å‚æ•°
- [PASS] InfoNodeèƒ½é‡å€¼ä¸ä¿¡æ¯è¡¨ä¸€è‡´

### **æµ‹è¯•4: è¿‡æ»¤æ™®é€šèŠ‚ç‚¹**
- [PASS] _filter_regular_nodes()æ­£ç¡®æ’é™¤ç‰©ç†ä¸­å¿ƒ
- [PASS] åªä¿ç•™5ä¸ªæ™®é€šèŠ‚ç‚¹
- [PASS] ç‰©ç†ä¸­å¿ƒèŠ‚ç‚¹ï¼ˆID=0ï¼‰ä¸åœ¨ç»“æœä¸­

### **æµ‹è¯•5: è°ƒåº¦å™¨ç”Ÿæˆä¼ èƒ½è®¡åˆ’**
- [PASS] è°ƒåº¦å™¨ä½¿ç”¨InfoNodeè¿›è¡Œå†…éƒ¨è®¡ç®—
- [PASS] è¿”å›çš„æ˜¯SensorNodeå¯¹è±¡ï¼ˆå…¼å®¹æ€§ï¼‰
- [PASS] ç‰©ç†ä¸­å¿ƒèŠ‚ç‚¹æœªå‚ä¸ä¼ èƒ½ï¼ˆreceiverã€donorã€pathå‡ä¸å«ID=0ï¼‰
- [PASS] ç”Ÿæˆäº†3ä¸ªä¼ èƒ½è®¡åˆ’

### **æµ‹è¯•6: LyapunovScheduleræµ‹è¯•**
- [PASS] LyapunovScheduleræ­£ç¡®å·¥ä½œ
- [PASS] è¿”å›SensorNodeå¯¹è±¡
- [PASS] ç‰©ç†ä¸­å¿ƒèŠ‚ç‚¹æœªå‚ä¸ä¼ èƒ½

---

## ğŸ“Š æ”¹é€ æ•ˆæœ

### **Beforeï¼ˆä¸Šå¸è§†è§’ï¼‰**
```python
# è°ƒåº¦å™¨ç›´æ¥è®¿é—®SensorNode
for node in network.nodes:
    if node.current_energy < threshold:  # ç›´æ¥è®¿é—®ï¼
        donors.append(node)
```

### **Afterï¼ˆä¿¡æ¯è¡¨ï¼‰**
```python
# è°ƒåº¦å™¨ä»NodeInfoManagerè·å–InfoNode
info_nodes = self.nim.create_info_nodes(self.energy_params)
for info_node in info_nodes:
    if info_node.current_energy < threshold:  # æ¥è‡ªä¿¡æ¯è¡¨ï¼
        donors.append(info_node)
```

### **æ ¸å¿ƒæ”¹è¿›**
1. âœ… **æ¶ˆé™¤ä¸Šå¸è§†è§’**: è°ƒåº¦å™¨ä¸å†ç›´æ¥è®¿é—®SensorNode.current_energy
2. âœ… **åŸºäºä¿¡æ¯è¡¨**: æ‰€æœ‰å†³ç­–åŸºäºNodeInfoManagerçš„ä¿¡æ¯è¡¨
3. âœ… **é€»è¾‘ä¿æŒä¸å˜**: åŸæœ‰å…¬å¼å’Œç®—æ³•å®Œå…¨ä¿æŒä¸å˜
4. âœ… **å…¼å®¹æ€§ä¿è¯**: è¿”å›çš„ä»æ˜¯SensorNodeå¯¹è±¡
5. âœ… **ç‰©ç†ä¸­å¿ƒéš”ç¦»**: ç‰©ç†ä¸­å¿ƒèŠ‚ç‚¹å®Œå…¨ä¸å‚ä¸WET

---

## ğŸ” ä»£ç è´¨é‡

- âœ… æ— linteré”™è¯¯
- âœ… ç±»å‹æ³¨è§£å®Œæ•´
- âœ… æ–‡æ¡£å­—ç¬¦ä¸²å®Œæ•´
- âœ… æ—¥å¿—æ¶ˆæ¯æ¸…æ™°
- âœ… æ‰€æœ‰æµ‹è¯•é€šè¿‡

---

## ğŸ“‚ ä¿®æ”¹æ–‡ä»¶æ±‡æ€»

### **æ ¸å¿ƒä»£ç ** (6ä¸ªæ–‡ä»¶)
1. `src/scheduling/info_node.py` (**NEW**)
2. `src/scheduling/schedulers.py` (ä¸»è¦ä¿®æ”¹)
3. `src/acdr/physical_center.py` (æ–°å¢create_info_nodes)
4. `src/sim/refactored_main.py` (è°ƒåº¦å™¨åˆ›å»ºé€»è¾‘)
5. `src/sim/parallel_executor.py` (è°ƒåº¦å™¨åˆ›å»ºé€»è¾‘)
6. `src/routing/EEOR.py` (æ— éœ€ä¿®æ”¹ï¼Œè‡ªåŠ¨å…¼å®¹InfoNode)

### **ä»£ç ç»Ÿè®¡**
- **æ–°å¢**: `info_node.py` (~100è¡Œ)
- **ä¿®æ”¹**: `schedulers.py` (~50è¡Œä¿®æ”¹)
- **ä¿®æ”¹**: `physical_center.py` (~20è¡Œæ–°å¢)
- **ä¿®æ”¹**: `refactored_main.py` (~60è¡Œä¿®æ”¹)
- **ä¿®æ”¹**: `parallel_executor.py` (~70è¡Œä¿®æ”¹)

---

## ğŸ‰ æ”¹é€ å®Œæˆ

**æ‰€æœ‰æ ¸å¿ƒç›®æ ‡å‡å·²å®ç°**:
- âœ… è°ƒåº¦å™¨ä¸å†ç›´æ¥è®¿é—®SensorNodeï¼ˆä¸Šå¸è§†è§’ï¼‰
- âœ… è°ƒåº¦å™¨ä»NodeInfoManagerçš„ä¿¡æ¯è¡¨è·å–èƒ½é‡ä¿¡æ¯
- âœ… ä½¿ç”¨InfoNodeè¿›è¡Œå†…éƒ¨è®¡ç®—
- âœ… åŸæœ‰å…¬å¼é€»è¾‘å®Œå…¨ä¿æŒä¸å˜
- âœ… è¿”å›SensorNodeå¯¹è±¡ï¼ˆå…¼å®¹æ€§ï¼‰
- âœ… ç‰©ç†ä¸­å¿ƒèŠ‚ç‚¹å®Œå…¨ä¸å‚ä¸WET
- âœ… æ‰€æœ‰è°ƒåº¦å™¨éƒ½æ­£å¸¸å·¥ä½œ
- âœ… æ‰€æœ‰æµ‹è¯•é€šè¿‡

**ç³»ç»Ÿå·²å‡†å¤‡å¥½è¿›è¡Œå®Œæ•´ä»¿çœŸæµ‹è¯•ï¼**

---

## ğŸ“ ä¸‹ä¸€æ­¥å»ºè®®

1. â­ï¸ **ä¿¡æ¯æ–°é²œåº¦å¤„ç†**: æ ¹æ®`arrival_time`å’Œ`freshness`å­—æ®µå¤„ç†è¿‡æœŸä¿¡æ¯
2. â­ï¸ **ä¿¡æ¯è´¨é‡è¯„ä¼°**: è¯„ä¼°åŸºäºä¿¡æ¯è¡¨å†³ç­–vså®é™…çŠ¶æ€çš„å·®å¼‚
3. â­ï¸ **æ€§èƒ½ä¼˜åŒ–**: ç›‘æ§InfoNodeåˆ›å»ºçš„æ€§èƒ½å¼€é”€
4. â­ï¸ **å®Œæ•´ä»¿çœŸæµ‹è¯•**: è¿è¡Œé•¿æ—¶é—´ä»¿çœŸéªŒè¯æ•´ä½“ç³»ç»Ÿç¨³å®šæ€§

---

**æ”¹é€ å®Œæˆæ—¶é—´**: 2025å¹´10æœˆ28æ—¥  
**æµ‹è¯•ç»“æœ**: æ‰€æœ‰æµ‹è¯•é€šè¿‡  
**æ¶æ„çŠ¶æ€**: ç”Ÿäº§å°±ç»ª

---

## ğŸš€ **æ€§èƒ½ä¼˜åŒ–ï¼šInfoNodeå¸¸é©»ç¼“å­˜**

### **ä¼˜åŒ–åŠ¨æœº**
åŸå®ç°ä¸­ï¼Œæ¯æ¬¡è°ƒåº¦å™¨è°ƒç”¨`plan()`æ—¶éƒ½ä¼šé€šè¿‡`nim.create_info_nodes()`é‡æ–°åˆ›å»ºInfoNodeåˆ—è¡¨ï¼ˆæ¯æ¬¡åˆ›å»º31ä¸ªå¯¹è±¡ï¼‰ï¼Œå­˜åœ¨æ€§èƒ½å¼€é”€ã€‚

### **ä¼˜åŒ–æ–¹æ¡ˆ**
å°†InfoNodeåˆ—è¡¨ä½œä¸º`NodeInfoManager`çš„å¸¸é©»å±æ€§ï¼š
1. åœ¨`initialize_node_info()`æ—¶åˆ›å»ºä¸€æ¬¡
2. åœ¨`update_node_info()`æ—¶è‡ªåŠ¨åŒæ­¥æ›´æ–°
3. è°ƒåº¦å™¨è°ƒç”¨`get_info_nodes()`ç›´æ¥è·å–å¼•ç”¨

### **å®ç°ç»†èŠ‚**

#### **NodeInfoManageræ–°å¢å±æ€§**
```python
# ========== InfoNodeå¸¸é©»ç¼“å­˜ ==========
self.info_nodes: Dict[int, 'InfoNode'] = {}  # keyä¸ºnode_id
self.energy_params: Dict[int, Dict] = {}     # èƒ½é‡ä¼ è¾“å‚æ•°ç¼“å­˜
```

#### **æ ¸å¿ƒæ–¹æ³•**
```python
def _cache_energy_params(self, nodes):
    """ç¼“å­˜æ‰€æœ‰èŠ‚ç‚¹çš„èƒ½é‡ä¼ è¾“å‚æ•°ï¼ˆåˆå§‹åŒ–æ—¶è°ƒç”¨ï¼‰"""
    for node in nodes:
        self.energy_params[node.node_id] = {
            'energy_char': getattr(node, 'energy_char', 300.0),
            ...
        }

def _create_info_nodes(self):
    """åˆ›å»ºæ‰€æœ‰InfoNodeå®ä¾‹ï¼ˆåˆå§‹åŒ–æ—¶è°ƒç”¨ï¼‰"""
    for node_id, info in self.latest_info.items():
        params = self.energy_params.get(node_id, {})
        self.info_nodes[node_id] = InfoNode(
            node_id=node_id,
            energy=info['energy'],
            position=info['position'],
            **params
        )

def update_node_info(self, node_id, energy, ...):
    """æ›´æ–°ä¿¡æ¯è¡¨æ—¶åŒæ­¥æ›´æ–°InfoNode"""
    # æ›´æ–°ä¿¡æ¯è¡¨
    self.latest_info[node_id] = info
    
    # åŒæ­¥æ›´æ–°InfoNodeï¼ˆå¦‚æœå·²åˆ›å»ºï¼‰
    if node_id in self.info_nodes:
        self.info_nodes[node_id].current_energy = energy
        if position is not None:
            self.info_nodes[node_id].position = list(position)

def get_info_nodes(self):
    """è·å–InfoNodeåˆ—è¡¨ï¼ˆè¿”å›å¼•ç”¨ï¼Œæ— åˆ›å»ºå¼€é”€ï¼‰"""
    return list(self.info_nodes.values())
```

### **è°ƒåº¦å™¨ä½¿ç”¨**
```python
# Beforeï¼ˆæ¯æ¬¡åˆ›å»ºï¼‰
def plan(self, network, t):
    info_nodes = self.nim.create_info_nodes(self.energy_params)  # åˆ›å»º31ä¸ªå¯¹è±¡
    ...

# Afterï¼ˆç›´æ¥è·å–ï¼‰
def plan(self, network, t):
    info_nodes = self.nim.get_info_nodes()  # åªè¿”å›å¼•ç”¨
    ...
```

### **æµ‹è¯•éªŒè¯**

#### **åŠŸèƒ½æµ‹è¯•** âœ…
- [OK] InfoNodeåœ¨åˆå§‹åŒ–æ—¶åˆ›å»º
- [OK] InfoNodeä½œä¸ºå¸¸é©»å±æ€§å­˜åœ¨
- [OK] æ›´æ–°ä¿¡æ¯è¡¨æ—¶è‡ªåŠ¨åŒæ­¥InfoNode
- [OK] è°ƒåº¦å™¨è·å–InfoNodeæ— éœ€é‡æ–°åˆ›å»º
- [OK] è¿”å›çš„æ˜¯åŒä¸€ä¸ªå¯¹è±¡ï¼ˆéå‰¯æœ¬ï¼‰

#### **æ€§èƒ½æµ‹è¯•** âœ…
1000æ¬¡è°ƒç”¨å¯¹æ¯”ï¼š
- **å¸¸é©»æ–¹å¼**: 0.0003ç§’ï¼ˆå¹³å‡0.0000003ç§’/æ¬¡ï¼‰
- **ä¼°ç®—æ¯æ¬¡åˆ›å»º**: 0.0161ç§’
- **æ€§èƒ½æå‡**: **50å€**

### **ä¼˜åŒ–æ•ˆæœ**
- âœ… **å‡å°‘å¯¹è±¡åˆ›å»ºå¼€é”€**ï¼šæ¯æ¬¡è°ƒç”¨èŠ‚çœ31ä¸ªå¯¹è±¡çš„åˆ›å»º
- âœ… **é™ä½å†…å­˜åˆ†é…å‹åŠ›**ï¼šé¿å…é¢‘ç¹çš„å†…å­˜åˆ†é…å’Œåƒåœ¾å›æ”¶
- âœ… **æé«˜è°ƒåº¦å™¨å“åº”é€Ÿåº¦**ï¼šè°ƒåº¦å™¨`plan()`æ–¹æ³•æ›´å¿«å“åº”
- âœ… **ç®€åŒ–ä»£ç é€»è¾‘**ï¼šåˆ é™¤`BaseScheduler.cache_energy_params()`æ–¹æ³•

### **ä¿®æ”¹æ–‡ä»¶**
- `src/acdr/physical_center.py`: æ·»åŠ å¸¸é©»InfoNodeç®¡ç†
- `src/scheduling/schedulers.py`: ä½¿ç”¨`get_info_nodes()`æ›¿ä»£`create_info_nodes()`
- `src/sim/refactored_main.py`: åˆ é™¤`cache_energy_params()`è°ƒç”¨
- `src/sim/parallel_executor.py`: åˆ é™¤`cache_energy_params()`è°ƒç”¨

---

**æœ€ç»ˆæ¶æ„çŠ¶æ€**: æ€§èƒ½ä¼˜åŒ–å®Œæˆï¼Œç”Ÿäº§å°±ç»ª

