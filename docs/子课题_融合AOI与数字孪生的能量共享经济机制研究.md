# 子课题：融合AOI驱动与数字孪生技术的能量共享经济机制研究

## 一、研究背景

无线传感器网络（WSN）中的节点面临能量受限、信息传输效率低和状态感知滞后的多重挑战，导致网络寿命有限与信息有效性不足。传统的调度与能量管理策略采用集中式决策，存在"上帝视角"问题，难以真实反映分布式环境下的信息延迟与不确定性，且缺乏对信息价值时间衰减的建模。

本项目基于WSN_ES系统已实现的**虚拟节点层**（InfoNode）和**信息年龄**（Age of Information, AOI）机制，提出融合数字孪生与信息新鲜度的**能量共享经济框架**，构建信息价值与能量资源的双维度优化模型，提升系统自适应性、公平性与可解释性。

### 核心创新点

1. **突破传统集中式决策的局限**：通过数字孪生机制实现调度器与物理节点的信息隔离，避免"上帝视角"，真实模拟分布式决策环境

2. **建立信息价值的时间经济学模型**：引入AOI作为信息价值的时间衰减指标，构建"信息价值—能量成本"的统一优化框架

3. **实现通信与能量传输的路径复用**：通过机会式信息搭载（Piggyback）机制，零额外能耗完成节点状态收集

4. **构建多维度决策闭环**：融合能量均衡、信息新鲜度、传输效率的统一评分函数，实现多目标协同优化

---

## 二、研究内容

### 2.1 AOI驱动的能量共享决策机制 ⭐

**基于系统已实现的基础：**

WSN_ES系统已在`DurationAwareLyapunovScheduler`中实现了AOI驱动的调度决策，通过统一的目标函数同时优化能量传输和信息价值：

```python
# 综合得分 = 能量收益 - 能量损耗 - AOI惩罚 + 信息奖励
total_score = energy_delivered * Q_normalized 
            - V * energy_loss 
            - w_aoi * duration * Q_normalized 
            + w_info * info_gain
```

**研究扩展方向：**

1. **信息价值的时间衰减建模**
   - 当前实现：线性AOI增长（AOI = current_time - arrival_time）
   - 扩展方向：引入指数衰减的信息价值模型
   ```
   信息价值(t) = 基础价值 × e^(-λ × AOI(t))
   ```
   - 经济学解释：类似金融资产的时间折现，信息价值随时间指数衰减

2. **动态AOI阈值与优先级调度**
   - 根据节点状态（能量、位置、重要性）动态调整AOI容忍度
   - 紧急节点（能量<20%）的信息价值衰减更快，优先传输
   - 太阳能节点的信息价值衰减较慢，可延迟上报

3. **多类型信息的差异化定价**
   - 能量状态信息：AOI容忍度高，可延迟上报
   - 事件检测信息：AOI容忍度低，需要立即传输
   - 周期监测信息：AOI容忍度中等，可批量上报

**经济学类比：** 信息市场中的时间敏感型商品定价，类似生鲜食品的保质期管理和动态折扣机制

---

### 2.2 数字孪生系统：虚拟节点层的完善与扩展 ⭐⭐

**基于系统已实现的基础：**

WSN_ES系统已实现完整的数字孪生架构：

#### 核心组件

1. **物理层（Ground Truth）**：`SensorNode`
   - 真实传感器节点，包含实际能量、位置、通信能力
   - 执行能量传输、信息采集、能量消耗

2. **信息管理层**：`NodeInfoManager`（物理中心）
   - **三级缓存架构**：
     - L1：`latest_info`（最新状态表，Dict，O(1)查询）
     - L2：`recent_history`（近期历史，deque，FIFO）
     - L3：`archive_buffer`（长期归档，CSV持久化）
   - **状态估算能力**：对未上报节点基于物理模型估算能量
   - **AOI管理**：自动计算和更新信息年龄

3. **虚拟节点层（Digital Twin）**：`InfoNode`
   - 轻量级节点代理，供调度器和路由算法使用
   - 与`SensorNode`接口完全一致，计算公式完全相同
   - 数据来源于节点信息表，避免直接访问物理节点

#### 数据流向（关键设计）

```
真实节点（SensorNode）
    ↓ [模拟通信上报]
节点信息表（latest_info）
    ↓ [自动同步]
虚拟节点（InfoNode）
    ↓ [只读访问]
调度器/路由算法
```

**核心设计理念：信息隔离，避免"上帝视角"**
- 调度器只能访问`InfoNode`，无法直接访问`SensorNode`
- 信息存在**传输延迟**和**估算误差**，真实反映分布式环境
- 实现**认知-决策分离**架构

**研究扩展方向：**

1. **状态预测与趋势分析**
   - 基于历史数据预测节点未来能量状态
   - 实现"预测性传能"，提前为可能耗尽能量的节点补能
   ```python
   预测能量(t+Δt) = 当前能量 + 采集速率×Δt - 消耗速率×Δt
   ```

2. **信息质量评估**
   - 引入信息置信度（Confidence）：
     - 实测数据：置信度1.0
     - 估算数据：置信度0.5-0.8（根据估算时长衰减）
   - 决策时考虑信息质量：
   ```
   决策权重 = 信息价值 × 信息置信度 × (1 - α × AOI)
   ```

3. **多级缓存优化**
   - 当前实现：三级缓存（L1/L2/L3）
   - 扩展方向：
     - L1：热点数据（最近N分钟）
     - L2：温数据（最近M小时）
     - L3：冷数据（历史归档，支持趋势分析）
     - 智能预取：根据访问模式预加载数据

4. **异常检测与补全**
   - 检测异常数据（如能量突降）
   - 基于历史趋势补全缺失数据
   - 标记异常节点，调整调度策略

**经济学类比：** 数字孪生类似金融市场的实时报价系统，信息延迟和估算误差类似市场信息的不对称性和滞后性

---

### 2.3 信息经济建模与价值映射机制 ⭐⭐⭐

**核心理念：** 构建"信息价值—能量成本"的双维度经济模型，实现资源的市场化配置

#### 2.3.1 信息价值函数设计

**当前实现（线性模型）：**
```python
info_bonus = w_info * info_gain  # 简单线性奖励
```

**扩展方向（时间衰减模型）：**
```python
# 方案1：线性衰减
信息价值 = 基础价值 × (1 - α × AOI / AOI_max)

# 方案2：指数衰减（推荐）
信息价值 = 基础价值 × e^(-λ × AOI)

# 方案3：分段衰减
信息价值 = {
    基础价值                          if AOI < T1
    基础价值 × (1 - α × AOI)          if T1 ≤ AOI < T2
    最小价值                          if AOI ≥ T2
}
```

**经济学解释：**
- **基础价值**：信息在新鲜状态下的价值（类似商品原价）
- **时间折扣**：信息过时带来的价值衰减（类似商品保质期折扣）
- **最小价值**：信息价值的下限（类似商品残值）

#### 2.3.2 能量成本函数

```python
# 能量传输成本 = 传输损耗 + 通信开销
能量成本 = energy_loss + E_comm(path)

# 通信开销
E_comm = Σ (E_tx_i + E_rx_i)  # 路径逐跳能耗
```

**经济学解释：** 类似物流成本，包含运输损耗和操作成本

#### 2.3.3 统一的价值映射函数（已实现并扩展）

**当前实现（Lyapunov + AOI + Info）：**
```python
score = Q(receiver) × delivered    # 能量需求收益
      - V × loss                   # 能量损耗成本
      - w_aoi × duration × Q       # 时间成本（AOI惩罚）
      + w_info × info_gain         # 信息价值收益
```

**扩展方向（考虑信息质量和时间衰减）：**
```python
# 综合得分函数
score = α₁ × 能量收益(Q, delivered)
      - α₂ × 能量损耗(V, loss)
      - α₃ × 时间成本(AOI, duration)
      + α₄ × 信息价值(info_volume, AOI, confidence)
      - α₅ × 风险成本(uncertainty)

其中：
# 信息价值项（考虑衰减和质量）
信息价值 = info_volume × e^(-λ × AOI) × confidence

# 风险成本（基于估算误差）
风险成本 = (1 - confidence) × potential_loss
```

**权重参数经济学解释：**
- `α₁`：能量均衡重要性（类似社会福利权重）
- `α₂`：能量损耗敏感度（类似成本控制系数）
- `α₃`：时间价值系数（类似折现率）
- `α₄`：信息价值系数（类似信息定价权重）
- `α₅`：风险厌恶系数（类似风险溢价）

#### 2.3.4 节点定价与激励机制

**方案设计：**

1. **信息提供者激励**
   - 节点上报信息可获得"信息积分"
   - 积分可用于优先获得能量传输
   - 积分随AOI衰减（鼓励及时上报）

2. **能量提供者回报**
   - 作为donor传能可获得"能量积分"
   - 积分可用于未来从其他节点获得能量
   - 建立节点间的"能量互助网络"

3. **市场均衡机制**
   - 信息价格随供需动态调整
   - 能量价格随网络状态波动
   - 实现资源的市场化配置

**经济学类比：** 双边市场（信息市场+能量市场）的定价与匹配机制

---

### 2.4 决策闭环与反馈机制 ⭐

**基于系统已实现的基础：**

WSN_ES系统已实现完整的感知-决策-执行-反馈闭环：

```
每个时间步 t：
  1. 【感知】节点能量更新（采集+衰减）
     → network.update_network_energy(t)
  
  2. 【信息上报】节点上报信息到物理中心
     → nim.batch_update_node_info(nodes, t)
     → 数据流：SensorNode → latest_info → InfoNode
  
  3. 【状态估算】物理中心估算未上报节点能量
     → nim.estimate_all_nodes(t)
     → 更新AOI（每分钟+1）
  
  4. 【智能决策】被动传能系统评估是否需要传能
     → passive_manager.should_trigger_transfer(t, network)
     → 多维度评估：低能量比例、能量方差、预测分析
  
  5. 【调度规划】调度器使用InfoNode制定传输计划
     → scheduler.plan(network, t)
     → 只访问InfoNode，避免上帝视角
  
  6. 【执行传输】网络执行能量传输
     → network.execute_energy_transfer(plans, t)
  
  7. 【信息收集】路径信息搭载收集
     → path_collector.collect_path_info(plans, t)
     → 零能耗信息收集
  
  8. 【反馈更新】更新节点状态和历史
     → 记录传输历史、更新缓存
```

**研究扩展方向：**

1. **自适应参数调整**
   - 根据系统性能动态调整权重参数（α₁-α₅）
   - 使用强化学习自动优化参数
   - 实现参数的"自学习"

2. **多智能体博弈**
   - 将节点建模为理性智能体
   - 每个节点追求自身效用最大化
   - 系统通过机制设计实现纳什均衡

3. **层次化决策**
   - 宏观层：全局能量均衡策略
   - 中观层：簇级调度策略
   - 微观层：节点级路由决策

**经济学类比：** 中央银行的货币政策调控（宏观）+ 市场自发调节（微观）

---

### 2.5 机会式能量共享与路径复用 ⭐⭐

**基于系统已实现的基础：**

WSN_ES系统已实现完整的机会式信息收集机制（`PathBasedInfoCollector`）：

#### 核心机制

1. **信息搭载（Piggyback）**
   - 能量传输路径：A → B → C
   - 节点B在转发能量时，顺便将自己的信息搭载在路径上
   - 终点节点C收集整条路径的信息，统一上报到物理中心
   - **零额外通信能耗**

2. **延迟上报（Delayed Reporting）**
   - 路径完成后，终点节点携带信息进入"等待状态"
   - 不立即上报，等待新的能量传输路径经过
   - 如果成为新路径的中继节点，搭便车上报
   - 超时保护：最大等待时间（default 5000分钟）

3. **信息感知路由（Info-Aware Routing）**
   - 路由算法优先选择携带信息的节点作为中继
   - 信息量大的节点获得更高的路由优先级
   - 实现信息的快速传播和汇聚

**关键参数：**
```python
enable_delayed_reporting = True     # 启用延迟上报
max_wait_time = 5000               # 最大等待时间
min_info_volume_threshold = 1      # 最小信息量阈值
max_info_volume = 1000000          # 信息量上限（强制上报）
info_reward_factor = 0.3           # 信息奖励系数
```

**研究扩展方向：**

1. **延迟成本优化模型**
   ```python
   # 最优延迟时间
   最优延迟 = argmax(收益 - 成本)
   
   收益 = E_saved(搭便车节省的能耗)
   成本 = w_aoi × AOI增长 + w_risk × 风险成本
   
   风险成本 = P(无法搭便车) × 超时惩罚
   ```

2. **概率路由预测**
   - 预测未来路径经过概率
   - 基于历史路径统计
   - 动态调整等待策略

3. **多跳信息聚合**
   - 路径上的信息逐跳压缩和聚合
   - 减少信息传输开销
   - 类似数据库的增量更新

**经济学类比：** 
- 拼车模式（Ride-sharing）：多个乘客共享一辆车，降低单位成本
- 物流整合（Logistics Consolidation）：批量运输降低单位运输成本

---

### 2.6 可视化与决策可解释性 ⭐

**基于系统已实现的基础：**

WSN_ES系统已具备丰富的可视化能力，研究需要增强决策的可解释性。

**当前可视化功能：**
1. 网络拓扑图（节点分布、能量状态）
2. 能量传输路径图（多跳路径可视化）
3. 能量时序图（节点能量变化）
4. K值动态调整曲线（如启用动态K）
5. ADCR聚类可视化（簇结构）

**研究扩展方向：**

1. **决策过程可视化**
   - 显示调度器的决策依据
   - 可视化得分函数各组成部分的贡献
   - 展示AOI、信息量、能量状态对决策的影响

2. **信息流动追踪**
   - 可视化信息从采集到上报的全过程
   - 显示信息搭载路径
   - 标注延迟等待的节点

3. **决策对比分析**
   - 对比不同权重参数的决策结果
   - 展示帕累托前沿（能量-信息-时间）
   - 敏感性分析可视化

4. **经济指标仪表盘**
   - 实时显示信息价值总量
   - 显示能量交易总量
   - 展示系统效用（Utility）

**输出格式：**
- 交互式HTML（Plotly）
- 动态GIF动画
- 决策树可视化
- 热力图（信息价值、能量状态）

---

## 三、研究目标与创新点

### 3.1 理论创新

1. **信息价值的时间经济学模型** ⭐⭐⭐
   - 建立信息价值的时间衰减理论框架
   - 融合信息论（AOI）与经济学（时间价值理论）
   - 提出信息资产的折旧模型

2. **数字孪生驱动的分布式决策理论** ⭐⭐⭐
   - 通过虚拟节点层实现认知-决策分离
   - 避免传统集中式调度的"上帝视角"
   - 建立符合分布式系统特征的决策模型

3. **信息-能量双维度经济框架** ⭐⭐⭐
   - 统一建模信息价值和能量价值
   - 构建双边市场的均衡机制
   - 实现多目标协同优化

### 3.2 技术创新

1. **零能耗信息收集机制** ⭐⭐
   - 基于系统已实现的Piggyback机制
   - 实现通信与能量传输的路径完全复用
   - 相比ADCR周期上报，减少通信开销

2. **自适应延迟策略** ⭐⭐
   - 基于收益-成本模型动态决策延迟时间
   - 平衡能耗节省和信息时效性
   - 引入风险成本的概率建模

3. **信息感知路由优化** ⭐
   - 基于系统已实现的信息感知路由
   - 扩展考虑信息质量和时间价值
   - 实现信息的快速传播和汇聚

4. **状态估算与预测** ⭐⭐
   - 基于系统已实现的能量估算机制
   - 扩展实现趋势预测和异常检测
   - 支持预测性传能决策

### 3.3 系统创新

1. **统一的决策框架** ⭐⭐⭐
   - 基于系统已实现的DurationAwareLyapunovScheduler
   - 扩展多维度综合评分函数
   - 实现能量、信息、时间的协同优化

2. **自适应参数调整** ⭐
   - 根据系统状态动态调整权重参数
   - 实现参数的自学习和自优化
   - 引入强化学习的参数调优

3. **决策可解释性** ⭐
   - 可视化决策过程和依据
   - 输出关键决策指标
   - 支持决策审计和调试

---

## 四、可行性分析

### 4.1 技术基础（已实现✅）

WSN_ES系统已提供强大的技术支撑：

| 功能模块 | 实现状态 | 位置 |
|---------|---------|------|
| **虚拟节点层（数字孪生）** | ✅ 完整实现 | `src/info_collection/info_node.py` |
| **节点信息管理器** | ✅ 完整实现 | `src/info_collection/physical_center.py` |
| **三级缓存架构** | ✅ 完整实现 | L1/L2/L3缓存系统 |
| **AOI计算与管理** | ✅ 完整实现 | 自动AOI增长和更新 |
| **能量状态估算** | ✅ 完整实现 | 基于物理模型的估算 |
| **机会式信息收集** | ✅ 完整实现 | `src/info_collection/path_based_collector.py` |
| **延迟上报机制** | ✅ 完整实现 | Delayed Reporting模式 |
| **信息感知路由** | ✅ 完整实现 | `src/routing/energy_transfer_routing.py` |
| **AOI驱动调度** | ✅ 完整实现 | `DurationAwareLyapunovScheduler` |
| **统一评分函数** | ✅ 完整实现 | 能量+AOI+信息综合优化 |
| **智能被动传能** | ✅ 完整实现 | `src/sim/passive_energy_sharing.py` |
| **可视化模块** | ✅ 完整实现 | `src/viz/plotter.py` |

### 4.2 理论基础（已建立✅）

| 理论框架 | 实现状态 | 文档 |
|---------|---------|------|
| **AOI经济学解释** | ✅ 完整文档 | `docs/economics/AOI的经济学解释.md` |
| **信息价值衰减理论** | ✅ 理论框架 | 时间价值理论、资产折旧理论 |
| **延迟成本权衡** | ✅ 理论框架 | 收益-成本分析模型 |
| **Lyapunov优化理论** | ✅ 实现并应用 | 能量均衡优化 |
| **机会主义信息传递** | ✅ 设计文档 | `docs/机会主义信息传递机制设计.md` |

### 4.3 研究可行性评估

#### 高可行性（基于已有功能扩展）⭐⭐⭐

1. **信息价值的指数衰减模型**
   - 当前：线性AOI增长
   - 扩展：添加指数衰减函数
   - 工作量：1-2周

2. **信息质量评估（置信度）**
   - 当前：已区分实测和估算
   - 扩展：量化置信度
   - 工作量：1-2周

3. **决策过程可视化**
   - 当前：已有基础可视化
   - 扩展：决策分解可视化
   - 工作量：2-3周

#### 中等可行性（需要新模块开发）⭐⭐

4. **延迟成本优化模型**
   - 当前：固定阈值延迟策略
   - 扩展：动态优化延迟时间
   - 工作量：3-4周

5. **状态预测与趋势分析**
   - 当前：已有历史数据
   - 扩展：预测模型开发
   - 工作量：3-4周

6. **自适应参数调整**
   - 当前：固定权重参数
   - 扩展：参数自学习机制
   - 工作量：4-5周

#### 较低可行性（需要重大改造）⭐

7. **节点激励与定价机制**
   - 需求：多智能体博弈框架
   - 工作量：6-8周

8. **分布式协商协议**
   - 需求：节点间通信协议
   - 工作量：8-10周

---

## 五、研究方法与技术路线

### 5.1 研究方法

#### 理论研究
1. **经济学建模**：时间价值理论、信息价值衰减模型、成本-收益分析
2. **优化理论**：Lyapunov优化、多目标优化、博弈论
3. **信息论**：AOI理论、信息价值量化、信息年龄优化

#### 实验研究
1. **仿真实验**：基于WSN_ES平台的大规模仿真
2. **对比实验**：与传统调度算法对比
3. **参数调优**：权重参数的敏感性分析

#### 验证方法
1. **性能指标评估**：网络寿命、能量均衡度、信息新鲜度
2. **经济指标评估**：总效用、资源利用率、公平性
3. **可视化分析**：决策过程追踪、信息流动分析

### 5.2 技术路线

#### 第一阶段：理论建模（2个月）

**任务1：信息价值时间衰减模型**
- 设计指数衰减函数
- 建立信息价值-AOI映射关系
- 确定衰减参数λ的取值范围

**任务2：统一评分函数设计**
- 扩展当前评分函数
- 加入信息质量和时间衰减
- 设计权重参数调整机制

**任务3：延迟成本优化模型**
- 建立收益-成本数学模型
- 设计最优延迟决策算法
- 考虑风险成本和不确定性

#### 第二阶段：系统实现（3个月）

**任务4：扩展虚拟节点层功能**
- 实现信息置信度计算
- 添加状态预测功能
- 实现异常检测与补全

**任务5：改进调度器**
- 在`DurationAwareLyapunovScheduler`基础上扩展
- 集成信息价值衰减模型
- 实现自适应参数调整

**任务6：增强信息收集器**
- 优化延迟策略
- 实现智能等待决策
- 改进信息聚合机制

#### 第三阶段：实验验证（2个月）

**任务7：仿真实验**
- 设计实验场景（不同网络规模、节点分布）
- 对比实验（vs Lyapunov, vs DQN）
- 参数敏感性分析

**任务8：性能评估**
- 网络寿命提升
- 能量均衡改善
- 信息新鲜度提升
- 系统总效用

**任务9：可视化与分析**
- 决策过程可视化
- 信息流动追踪
- 经济指标展示

#### 第四阶段：论文撰写（1个月）

**任务10：撰写研究论文**
- 理论框架阐述
- 实验结果分析
- 创新点总结
- 未来工作展望

---

## 六、预期成果

### 6.1 理论成果

1. **提出信息价值的时间经济学模型**
   - 建立AOI与信息价值的映射关系
   - 构建信息资产的折旧理论框架
   - 发表高水平学术论文1-2篇

2. **构建信息-能量双维度经济框架**
   - 统一优化模型
   - 多目标协同理论
   - 发表学术论文1篇

### 6.2 技术成果

1. **完善的数字孪生系统**
   - 状态估算准确率提升20%
   - 预测准确率达到80%以上
   - 系统响应速度提升30%

2. **高效的信息收集机制**
   - 信息收集能耗降低50%以上
   - 信息新鲜度提升30%
   - 覆盖率达到95%以上

3. **智能调度算法**
   - 网络寿命延长15-25%
   - 能量均衡度提升20%
   - 信息时效性提升30%

### 6.3 系统成果

1. **扩展的WSN_ES仿真平台**
   - 新增AOI驱动调度器模块
   - 新增信息价值评估模块
   - 新增决策可视化模块

2. **完善的文档体系**
   - 系统设计文档
   - 算法实现文档
   - 使用指南和API文档

### 6.4 学术成果

1. **国际会议论文**：2-3篇
   - IEEE INFOCOM / ICDCS / MASS
   - 主题：AOI驱动调度、数字孪生、经济机制

2. **期刊论文**：1-2篇
   - IEEE/ACM Transactions级别
   - 主题：能量共享经济框架

3. **专利**：1-2项
   - 基于AOI的能量调度方法
   - 机会式信息收集方法

---

## 七、创新点总结

### 核心创新（与现有研究的区别）

1. **理论创新：时间经济学视角** ⭐⭐⭐
   - **现有研究**：多关注能量优化，忽视信息价值的时间维度
   - **本研究**：引入AOI作为信息价值衰减的核心指标，建立时间经济学模型

2. **架构创新：数字孪生机制** ⭐⭐⭐
   - **现有研究**：采用集中式调度，存在"上帝视角"问题
   - **本研究**：通过虚拟节点层实现信息隔离，真实模拟分布式决策环境

3. **方法创新：路径复用机制** ⭐⭐
   - **现有研究**：信息收集和能量传输分离，存在重复通信
   - **本研究**：实现零能耗的机会式信息收集，完全复用能量传输路径

4. **模型创新：双维度经济框架** ⭐⭐⭐
   - **现有研究**：单独优化能量或信息，缺乏统一框架
   - **本研究**：构建信息-能量双维度经济模型，实现联合优化

5. **实现创新：完整的工程实现** ⭐⭐
   - **现有研究**：多为理论分析或简单仿真
   - **本研究**：基于成熟的WSN_ES平台，完整的工程化实现

---

## 八、参考文献（需补充）

### 核心参考文献

1. **AOI理论**
   - S. Kaul et al., "Minimizing age of information in vehicular networks," *IEEE SECON*, 2011
   - M. Costa et al., "Age of information: Design and analysis of optimal scheduling algorithms," *IEEE ISIT*, 2016

2. **数字孪生**
   - F. Tao et al., "Digital twin-driven product design framework," *CIRP Annals*, 2019
   - E. Negri et al., "A review of the roles of digital twin in CPS-based production systems," *Procedia Manufacturing*, 2017

3. **能量共享**
   - Y. Shi et al., "Wireless powered communication networks: An overview," *IEEE Wireless Communications*, 2015
   - S. Bi et al., "Wireless powered communication: Opportunities and challenges," *IEEE Communications Magazine*, 2015

4. **Lyapunov优化**
   - M. J. Neely, "Stochastic network optimization with application to communication and queueing systems," *Synthesis Lectures on Communication Networks*, 2010

5. **经济学机制设计**
   - E. Maskin, "Mechanism design: How to implement social goals," *Nobel Prize Lecture*, 2007

---

## 九、附录

### A. 系统架构图

```
┌───────────────────────────────────────────────────────────────┐
│                    WSN_ES系统架构                              │
└───────────────────────────────────────────────────────────────┘

┌─────────────────────────────────────────────────────────────┐
│                   物理节点层（Ground Truth）                  │
│              SensorNode - 真实传感器节点                      │
│  • 能量状态  • 位置信息  • 通信能力  • 信息采集              │
└───────────────────────┬─────────────────────────────────────┘
                        │ 信息上报（模拟通信）
                        ↓
┌─────────────────────────────────────────────────────────────┐
│              节点信息管理层（Physical Center）                │
│               NodeInfoManager - 物理中心                      │
│  ┌──────────────────────────────────────────────────────┐  │
│  │  三级缓存架构：                                       │  │
│  │  L1: latest_info (Dict) - 最新状态，O(1)查询         │  │
│  │  L2: recent_history (deque) - 近期历史，FIFO        │  │
│  │  L3: archive_buffer (CSV) - 长期归档，持久化         │  │
│  └──────────────────────────────────────────────────────┘  │
│  • AOI管理  • 能量估算  • 状态预测  • 异常检测              │
└───────────────────────┬─────────────────────────────────────┘
                        │ 自动同步
                        ↓
┌─────────────────────────────────────────────────────────────┐
│              虚拟节点层（Digital Twin）                       │
│               InfoNode - 轻量级节点代理                       │
│  • 与SensorNode接口一致  • 只读访问  • 避免上帝视角          │
└───────────────────────┬─────────────────────────────────────┘
                        │ 供调度器使用
                        ↓
┌─────────────────────────────────────────────────────────────┐
│                   算法层（Algorithms）                        │
│  ┌──────────────────┬──────────────────┬─────────────────┐ │
│  │  调度器          │  路由协议         │  信息收集器      │ │
│  │  Scheduler       │  Routing         │  Collector      │ │
│  ├──────────────────┼──────────────────┼─────────────────┤ │
│  │ • Lyapunov       │ • EETOR          │ • PathBased     │ │
│  │ • DurationAware  │ • EEOR           │ • ADCR          │ │
│  │ • DQN/DDPG       │ • Info-Aware     │ • Opportunistic │ │
│  └──────────────────┴──────────────────┴─────────────────┘ │
└─────────────────────────────────────────────────────────────┘
```

### B. 关键公式汇总

**1. AOI计算**
```
AOI(t) = t - arrival_time
```

**2. 信息价值衰减（扩展）**
```
V_info(t) = V_0 × e^(-λ × AOI(t))
```

**3. 统一评分函数（扩展）**
```
Score = α₁·Q(r)·E_delivered 
      - α₂·V·E_loss 
      - α₃·w_aoi·duration·Q(r)
      + α₄·w_info·V_info(AOI)
      - α₅·Risk(confidence)
```

**4. 延迟成本优化**
```
Optimal_Delay = argmax(E_saved - w_aoi·AOI - w_risk·Risk)
```

**5. 能量估算**
```
E_estimated(t) = E_last + E_harvest(Δt) - E_consume(Δt)
```

### C. 系统参数配置

```python
# AOI相关参数
w_aoi = 0.5              # AOI惩罚权重
aoi_decay_lambda = 0.01  # 信息价值衰减率（扩展）

# 信息相关参数
w_info = 0.3                    # 信息奖励权重
info_reward_factor = 0.3        # 信息路由奖励系数
enable_delayed_reporting = True # 启用延迟上报
max_wait_time = 5000           # 最大等待时间

# 能量相关参数
V = 0.5                  # Lyapunov控制参数
K = 2                    # 并发传输节点数

# 估算相关参数
enable_energy_estimation = True  # 启用能量估算
decay_rate_default = 5.0        # 默认衰减率
use_solar_model = True          # 使用太阳能模型
```

---

**文档版本**：v1.0  
**最后更新**：2025-11-04  
**作者**：[需填写]  
**审核**：[需填写]


