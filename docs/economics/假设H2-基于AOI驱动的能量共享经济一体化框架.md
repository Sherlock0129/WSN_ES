# 假设 H2：基于AOI驱动的能量共享经济一体化框架

## 研究问题

在融入Dynamic-k能量调度机制的框架下，如何结合信息年龄（Age of Information, AOI）指标与能量传输决策，构建适用于非均匀网络拓扑的自适应能量调度策略，以解决能量空洞问题，实现公平的能量分配与高效的能量共享，进而达成提升能量利用效率与延长网络整体能量平衡及生命周期的协同优化目标？

具体而言：

1. 如何将AOI作为能量传输决策的核心驱动因素，在能量传输过程中考虑信息价值的时间衰减？
2. 如何通过信息搭载在能量传输路径上，降低信息传递的通信成本，实现能量和信息的一体化优化？
3. 如何通过Dynamic-k机制动态调整并发传输节点数量，优化能量流路径，缓解能量空洞与过载现象？
4. 如何通过延迟上报和机会路由机制，权衡信息新鲜度和能耗成本，实现能量-信息协同优化？

## 科学假设

在非均匀拓扑的无线传感器网络中，通过引入基于Dynamic-k能量调度机制的AOI驱动能量共享框架，将信息年龄（AOI）作为能量传输决策的核心驱动因素，可实现能量分配与信息更新的动态平衡。具体而言：

1. **AOI驱动的能量传输决策**：通过将AOI惩罚项纳入能量传输优化函数，考虑信息价值的时间衰减，实现能量传输和信息收集的统一优化。
2. **信息搭载机制**：通过将信息搭载在能量传输路径上（piggyback），降低信息传递的通信成本，实现能量和信息的一体化传输。
3. **Dynamic-k自适应机制**：通过基于奖励函数（能量标准差改进、送达量、损耗）的Dynamic-k机制，动态调整并发传输节点数量k(t)，优化能量流路径，缓解能量空洞与过载现象。
4. **延迟上报和机会路由**：通过延迟上报机制和信息感知路由，权衡信息新鲜度（AOI）和能耗成本，实现能量-信息协同优化。

引入这些机制后，节点可在AOI约束和能量需求下自主参与能量共享，形成"能量流—信息价值"的可解释映射关系，从而有效缓解能量空洞与能量孤岛问题，提升网络整体能量利用效率与系统稳定性，实现网络生命周期与数据新鲜度的协同优化。

## 方法论路径

本研究基于Dynamic-k能量调度机制框架，结合信息年龄（AOI）指标与能量传输决策，构建适用于非均匀拓扑网络的自适应能量调度策略。整体技术路径包含四个核心模块：

### 1. 双层优化模型构建

#### 1.1 上层（调度决策层）

**目标**：基于AOI驱动的能量传输决策，实现能量传输和信息收集的统一优化。

**核心机制**：

- **AOI驱动的能量传输决策**：将AOI惩罚项纳入能量传输优化函数

  - 优化函数：`总得分 = 能量收益 - 能量损耗 - AOI惩罚 + 信息奖励`
  - AOI惩罚项：`aoi_penalty = w_aoi * aoi_cost * Q_normalized`
  - 信息奖励项：`info_bonus = w_info * info_gain`（如果receiver有未上报信息）
- **传输时长优化**：通过优化传输时长（duration），权衡能量传输收益、AOI增长成本和信息量累积收益

  - 传输时长越长，能量传输越多，但AOI增长越多
  - 传输时长越长，信息量累积越多（可搭便车）
  - 最优传输时长：`最优duration = argmax(总得分)`

**实现位置**：`src/scheduling/schedulers.py` - `DurationAwareLyapunovScheduler`

**关键参数**：

- `w_aoi`: AOI惩罚权重（默认0.1）
- `w_info`: 信息量奖励权重（默认0.05）
- `duration_min`: 最小传输时长（默认1分钟）
- `duration_max`: 最大传输时长（默认5分钟）

#### 1.2 下层（Dynamic-k执行层）

**目标**：基于实时拓扑与能量分布特征动态调整并发传输节点数量k(t)，优化能量流路径，缓解能量空洞与过载现象。

**核心机制**：

- **Dynamic-k自适应机制**：基于奖励函数动态调整K值

  - 奖励函数：`reward = w_b * norm_improve + w_d * norm_delivered - w_l * norm_loss`
  - `norm_improve`: 能量标准差改进（归一化）
  - `norm_delivered`: 总送达能量（归一化）
  - `norm_loss`: 总损耗能量（归一化）
- **K值调整策略**：

  - 如果奖励值增加：增加K（方向+1）
  - 如果奖励值减少：减少K（方向-1）
  - 使用滞回阈值避免频繁调整
- **前瞻模拟支持**：可选的前瞻模拟机制，评估不同K值的效果

**实现位置**：`src/dynamic_k/k_adaptation.py` - `KAdaptationManager`

**关键参数**：

- `initial_K`: 初始K值（默认1）
- `K_max`: 最大K值（默认24）
- `hysteresis`: 滞回阈值（默认0.2）
- `w_b`: 均衡改进权重（默认0.8）
- `w_d`: 有效送达量权重（默认0.8）
- `w_l`: 损耗惩罚权重（默认1.5）

### 2. AOI驱动的信息更新控制

**目标**：将信息年龄（AOI）作为信息更新的关键指标，实现"信息新鲜度—能量消耗"的双维度平衡。

**核心机制**：

- **AOI计算**：`AOI = current_time - arrival_time`（每分钟+1）
- **信息价值的时间衰减**：AOI越大，信息价值越低
- **延迟上报机制**：路径完成后，节点携带信息进入"等待状态"，等待搭便车机会

  - 延迟上报节省能耗，但增加AOI
  - 超时保护：最大等待时间（max_wait_time）
  - 信息量阈值：最小信息量阈值（min_info_volume_threshold）
- **机会路由机制**：路由算法优先选择信息量大的节点，增加"搭便车"的成功率

  - 路由评分：`评分 = 效率 × (1 / 代价) × (1 + 信息奖励系数 × 信息量比例)`
  - 信息奖励系数：`info_reward_factor`（默认0.2）

**实现位置**：

- 延迟上报：`src/info_collection/path_based_collector.py` - `PathBasedInfoCollector`
- 机会路由：`src/routing/energy_transfer_routing.py` - `select_forwarder_prefix_energy_aware`

**关键参数**：

- `enable_delayed_reporting`: 是否启用延迟上报（默认True）
- `max_wait_time`: 最大等待时间（默认5000分钟）
- `min_info_volume_threshold`: 最小信息量阈值（默认1）
- `info_reward_factor`: 信息奖励系数（默认0.2）

### 3. 信息搭载机制

**目标**：将信息搭载在能量传输路径上，降低信息传递的通信成本，实现能量和信息的一体化传输。

**核心机制**：

- **路径信息收集**：利用能量传输路径收集节点信息（piggyback）

  - 工作流程：路径节点（a、b、c）各自收集信息，沿路径聚合到终点c
  - 终点c将路径节点的聚合信息上报到物理中心节点（ID=0）
  - 虚拟中心只更新路径节点（a、b、c）的信息
- **零额外能耗模式**：free模式下信息完全搭载，零额外能耗
- **批量上报**：路径节点信息聚合到终点节点上报，降低单位成本

**实现位置**：`src/info_collection/path_based_collector.py` - `PathBasedInfoCollector`

**关键特性**：

- **零通信开销**：信息搭载在传能路径上
- **高更新频率**：每次传能都更新
- **信息新鲜度高**：路径节点为实时采集
- **能量消耗可配置**：free模式（零能耗）或full模式（完全真实）

### 4. 统一的经济框架

**目标**：将能量共享和信息收集统一在一个经济框架下进行优化，实现系统整体效益最大化。

**核心机制**：

- **统一优化函数**：`总得分 = 能量收益 - 能量损耗 - AOI惩罚 + 信息奖励`

  - 能量收益：`energy_delivered * Q_normalized`
  - 能量损耗：`V * energy_loss`
  - AOI惩罚：`w_aoi * duration * Q_normalized`
  - 信息奖励：`w_info * info_gain`
- **多目标权衡**：同时考虑能量、AOI、信息量
- **权重可配置**：w_aoi（AOI惩罚权重）、w_info（信息奖励权重）

**实现位置**：`src/scheduling/schedulers.py` - `DurationAwareLyapunovScheduler._compute_duration_score`

## 仿真与验证场景

在非均匀拓扑的无线传感器网络场景中开展AOI驱动能量共享仿真，验证以下方面的综合效果：

1. **能量空洞缓解**：验证Dynamic-k机制和AOI驱动决策在缓解能量空洞方面的效果
2. **能量分配公平性**：验证能量分配公平性（能量标准差、Jain指数、基尼系数）
3. **信息新鲜度**：验证AOI控制机制在信息新鲜度（AOI）提升方面的效果
4. **能量利用效率**：验证能量利用效率提升率
5. **网络生命周期**：验证网络整体生命周期延长效果

## 关键评价指标

### 能量相关指标

1. **能量标准差**：能量分布的均匀程度
2. **能量利用效率**：能量利用效率提升率
3. **能量空洞缓解率**：能量空洞缓解效果

### 信息相关指标

1. **信息年龄（AOI）**：信息新鲜度指标
2. **平均AOI**：平均信息年龄
3. **最大AOI**：最大信息年龄
4. **AOI提升率**：AOI改善程度

### 公平性指标

1. **Jain指数**：能量分配公平性（0-1，越大越公平）
2. **基尼系数**：能量分配不平等程度（0-1，越小越公平）
3. **能量标准差**：能量分布的不均匀程度

### 系统性能指标

1. **能量送达量**：总送达能量
2. **能量损耗**：总损耗能量
3. **传输效率**：能量传输效率
4. **网络生命周期**：网络整体生命周期

### Dynamic-k相关指标

1. **K值变化**：K值自适应调整历史
2. **K值稳定性**：K值变化频率
3. **奖励函数值**：奖励函数历史变化

### 信息搭载相关指标

1. **信息搭载成功率**：信息搭载成功次数
2. **信息上报能耗节省**：延迟上报节省的能耗
3. **信息量累积**：累积的信息量

## 与参考框架的对比

### 已实现的核心功能

1. ✅ **AOI驱动的能量传输决策**：DurationAwareLyapunovScheduler实现了AOI惩罚机制
2. ✅ **信息搭载在能量传输路径上**：PathBasedInfoCollector实现了路径信息收集
3. ✅ **信息感知路由**：EETOR路由算法实现了信息感知路由
4. ✅ **延迟上报机制**：机会主义信息传递实现了延迟上报和搭便车
5. ✅ **统一的经济框架**：多目标优化函数统一优化能量和信息
6. ✅ **Dynamic-k机制**：KAdaptationManager实现了K值自适应调整

### 未实现的高级功能

1. ❌ **EAoI（Energy AoI）**：当前实现的是AOI（信息年龄），不是EAoI（能量信息新鲜度）
2. ❌ **虚拟定价机制**：未实现虚拟定价、能量代币、税率激励机制
3. ❌ **Shapley值**：未实现基于Shapley值的贡献量化
4. ❌ **三层优化模型的上层（经济激励层）**：未实现经济激励层，只有调度决策层和执行层

### 改进方向

1. **短期改进**：

   - 实现指数衰减的信息价值模型
   - 实现信息价值量化
   - 实现延迟成本优化
2. **中期改进**：

   - 考虑引入EAoI概念（如果需要）
   - 实现信息市场机制
   - 实现信息价值评估模型
3. **长期改进**：

   - 考虑引入虚拟定价机制（如果需要）
   - 考虑引入Shapley值机制（如果需要）
   - 实现更复杂的市场机制

## 总结

本研究基于Dynamic-k能量调度机制框架，结合信息年龄（AOI）指标与能量传输决策，构建了适用于非均匀拓扑网络的自适应能量调度策略。核心创新在于：

1. **AOI驱动的能量传输决策**：将AOI作为能量传输决策的核心驱动因素，实现能量传输和信息收集的统一优化。
2. **信息搭载机制**：将信息搭载在能量传输路径上，降低信息传递的通信成本，实现能量和信息的一体化传输。
3. **Dynamic-k自适应机制**：基于奖励函数动态调整并发传输节点数量，优化能量流路径，缓解能量空洞与过载现象。
4. **延迟上报和机会路由**：通过延迟上报机制和信息感知路由，权衡信息新鲜度和能耗成本，实现能量-信息协同优化。

通过这些机制，系统可以有效缓解能量空洞与能量孤岛问题，提升网络整体能量利用效率与系统稳定性，实现网络生命周期与数据新鲜度的协同优化。

---

*本文档基于当前项目实际实现情况，描述了基于AOI驱动的能量共享经济一体化框架的研究假设、方法论路径和评价指标。*








